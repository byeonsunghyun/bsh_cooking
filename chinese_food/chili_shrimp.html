<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/cooking_main.css">
	<link rel="stylesheet" href="../css/cooking_recipe.css">
  <title>ì¹ ë¦¬ìƒˆìš° | ë­‰ì¹˜ì˜ ìš”ë¦¬ ë ˆì‹œí”¼</title>
    <link rel="icon" href="../image/icon.png" type="image/png">
</head>
<body>
  <header>
    <a href="../cooking_main" class="logo-link">
      <div class="logo-wrap">
        <img src="../image/title_logo.png" alt="ë¡œê³ " class="logo" />
      </div>
    </a>
  </header>

	<button class="sidebar-toggle-button" onclick="toggleSidebar()">â˜°</button>

  <div class="sidebar" id="sidebar">
	  <div class="sidebar-divider"></div>

<form class="search-container" onsubmit="handleSearch(event)">
  <div class="tag-title2">ğŸ” ê²€ìƒ‰í•˜ê¸°</div>
  <input type="text" name="keyword" placeholder="ì¬ë£Œë‚˜ ìš”ë¦¬ëª…ì„ ì…ë ¥í•´ë³´ì„¸ìš”" />
</form>

	  <div class="recent-recipes">
  <div class="tag-title2">ğŸ•˜ ìµœê·¼ ë³¸ ë ˆì‹œí”¼</div>
  <ul id="recent-recipes-list"></ul>
</div>

<!-- ë¹ˆ ê³µê°„ì„ ì°¨ì§€í•˜ëŠ” spacer -->
<div class="spacer"></div>

<a href="login" class="sidebar-login-link">ë¡œê·¸ì¸</a>
<div class="sidebar-divider-below-login"></div>
<div class="sidebar-social-icons">
  <a href="#" onclick="alert('ğŸ”’'); return false;">
    <img src="../image/instagram.png" alt="Instagram">
  </a>
  <a href="#" onclick="alert('ğŸ”’'); return false;">
    <img src="../image/kakaotalk.png" alt="KakaoTalk">
  </a>
</div>

  </div>

  <main class="recipe-detail">
    <h1 style="text-align:center;">- ì¹ ë¦¬ìƒˆìš° -</h1>
    <p class="subtitle">ë‹¬ì½¤í•˜ë©´ì„œë„ ë§¤ì½¤í•œ ë§›ì´ ë§¤ë ¥ì ì¸ ì¹ ë¦¬ìƒˆìš°</p>
    <div class="tags" style="justify-content: center; margin-bottom: 24px;">
	  <span class="tag time">10ë¶„ ì´ë‚´</span>
	  <span class="tag sweet">ë‹¬ì½¤í•œ</span>
	</div>
	  
    <div class="recipe-image">
      <img src="../image/chili_shrimp.jpg" alt="ì¹ ë¦¬ìƒˆìš°" />
    </div>

    <section class="recipe-info">
      <h2>ğŸ“ ì¬ë£Œ</h2>
      <ul>
        <li>ìƒˆìš°</li>
		<li>ê³ ì¶§ê°€ë£¨ - í•œ í°ìˆ </li>
		<li>ê°„ì¥ - í•œ í°ìˆ </li>
		<li>ë§›ìˆ  - í•œ í°ìˆ </li>
		<li>ì¼€ì³¡ - í•œ í°ìˆ </li>
		<li>ì„¤íƒ• - í•œ í°ìˆ </li>
		<li>ë¬¼ì—¿ - í•œ í°ìˆ </li>
        <li>í›„ì¶”, ë²„í„°, ë§ˆëŠ˜</li>
      </ul>
    </section>

    <section class="recipe-steps">
      <h2>ğŸ³ ë§Œë“œëŠ” ë²•</h2>
	  <ol>
		  <li>ìƒˆìš°ëŠ” í•´ë™ í›„ ë¬¼ê¸°ë¥¼ ì œê±°í•˜ê³  í›„ì¶”ë¡œ ê°„ì„ í•©ë‹ˆë‹¤.</li>
		  <li>ë§ˆëŠ˜ê³¼ ë²„í„°ë¥¼ ë„£ê³  ìƒˆìš°ë¥¼ ë³¶ì•„ ìµí˜€ì¤ë‹ˆë‹¤.</li>
		  <li>ê³ ì¶§ê°€ë£¨, ê°„ì¥, ë§›ìˆ , ì¼€ì²©, ì„¤íƒ•ì„ ë„£ê³  ì˜ ì„ì–´ ë³¶ì•„ì¤ë‹ˆë‹¤.</li>
		  <li>ë§ˆì§€ë§‰ìœ¼ë¡œ ë¬¼ì—¿ì„ ë„£ê³  í•œ ë²ˆ ë” ë³¶ìœ¼ë©´ ì™„ì„±ì…ë‹ˆë‹¤.</li>
		</ol>
    </section>

	<section class="tip-box">
	  <h2>ğŸ’¡ TIP</h2>
	  <p>ë§¤ì½¤í•˜ê²Œ ë“œì‹œê³  ì‹¶ìœ¼ì‹œë©´ í˜í¼ë¡ ì¹˜ë…¸ë¥¼ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.</p>
	</section>
  </main>

  <footer>
    <p>&copy; 2025 Byeon Sung Hyun. All rights reserved.</p>
  </footer>

	<script>
  function toggleSidebar() {
	  const sidebar = document.getElementById('sidebar');
	  sidebar.classList.toggle('open');
	}

window.addEventListener('scroll', function () {
    const toggleButton = document.querySelector('.sidebar-toggle-button');
    if (window.scrollY > 10) {
      toggleButton.classList.add('scrolled');
    } else {
      toggleButton.classList.remove('scrolled');
    }
  });

function handleSearch(event) {
    event.preventDefault(); // ì œì¶œ ë§‰ê¸°
    alert("ğŸ”§ ê²€ìƒ‰ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!");
  }

 document.querySelectorAll('.recipe-card').forEach(card => {
  card.addEventListener('click', () => {
    const hrefRaw = card.getAttribute('href');
    const imgRaw = card.querySelector('img')?.getAttribute('src') || '';
    const title = card.parentElement.querySelector('h3')?.innerText || '';

    // ì ˆëŒ€ê²½ë¡œ ë³€í™˜
    const href = new URL(hrefRaw, window.location.origin).href;
    const img = new URL(imgRaw, window.location.origin).pathname;

    const newRecipe = { href, img, title };

    let recent = JSON.parse(localStorage.getItem('recentRecipes') || '[]');

    // ì¤‘ë³µ ì œê±°
    recent = recent.filter(r => r.href !== href);

    // ìµœì‹  ìˆœ ì¶”ê°€ (ìµœëŒ€ 10ê°œ)
    recent.unshift(newRecipe);
    if (recent.length > 10) recent = recent.slice(0, 10);

    localStorage.setItem('recentRecipes', JSON.stringify(recent));
  });
});

// ì‚¬ì´ë“œë°”ì— í‘œì‹œ
function loadRecentRecipes() {
  const container = document.getElementById('recent-recipes-list');
  if (!container) return;

  const recent = JSON.parse(localStorage.getItem('recentRecipes') || '[]');
  container.innerHTML = '';

  if (recent.length === 0) {
    container.innerHTML = '<li class="no-recent">ìµœê·¼ ë³¸ ë ˆì‹œí”¼ê°€ ì—†ìŠµë‹ˆë‹¤.</li>';
    return;
  }

  const baseURL = window.location.origin;

  recent.forEach(({ href, img, title }) => {
    // img ê²½ë¡œ ì ˆëŒ€ê²½ë¡œë¡œ ë³€í™˜
    const imgAbsolute = new URL(img, baseURL).href;

    const li = document.createElement('li');
    li.innerHTML = `
      <a href="${href}" class="recent-link">
        <img src="${imgAbsolute}" alt="${title}">
        <span>${title}</span>
      </a>
    `;
    container.appendChild(li);
  });
}

document.addEventListener('DOMContentLoaded', loadRecentRecipes);

  </script>
</body>
</html>
